<!DOCTYPE html>
<head>
    <script>
        
        function fillCircle (x, y, radius, colour) {
            ctx.beginPath();
            ctx.fillStyle= colour;
            ctx.arc(x, y, radius, 0, Math.PI * 2);
            ctx.fill();
        }
        function strokeCircle (x, y, radius, colour) {
            ctx.beginPath();
            ctx.fillStyle= colour;
            ctx.arc(x, y, radius, 0, Math.PI * 2);
            ctx.stroke();
        }
        var y_pos = 50;
        var grav = 0;
        var ingame = true;
        var ticks = 0;
        var img = new Image();
        var dist = 0;
        var high = 50;
        img.src = "aeb0c496882b024731a21c506f778cf6.jpg"
        function endGame(){
            ctx.clearRect(0, 0, can.width, can.height);
            ingame = false;
            y_pos = 50;
            grav = 0;
            ctx.font="80px Arial";
            ctx.fillText("Thanks for playing", 150, 200);
            ctx.font="40px Comic-sans";
            ctx.fillText("Click the screen to try again", 250, 330);
        }
        function drawPipe(x,h){
            ctx.fillRect(x,h,x-20,0)
            ctx.fillRect(x,ctx.height-h,x-20,ctx.height)

        }
        function move(){
            if(ingame){
                ctx.clearRect(0, 0, can.width, can.height);
                y_pos = y_pos + grav;
                if (grav < 20){
                    grav = grav + 0.2;
                }
                drawPipe(dist,high);
                dist++
                high++
                if (dist >= ctx.width){
                    dist=0;
                    high=100;
                }

                ctx.drawImage(img, 120, y_pos);
                if (y_pos <= 0 || y_pos >= can.height-30){
                    endGame();
                }

            }
        }
        function clk(){
            if(ingame){
                grav = -6;
            }
            else{
                ingame = true;
            }
        }
    </script>
</head>
<body>
    <canvas id="can" width="1024px" height="512px" style="background-color: aquamarine;" onclick="clk()"></canvas>

    <script>
        var ctx = can.getContext("2d");
        setInterval(move,10);
    </script>
</body>
